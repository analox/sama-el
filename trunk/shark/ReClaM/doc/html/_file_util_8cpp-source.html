<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ReClaM: FileUtil.cpp Source File</title>
<link href="ReClaM.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>FileUtil.cpp</h1><a href="_file_util_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//===========================================================================</span>
<a name="l00072"></a>00072 <span class="comment"></span><span class="comment">//===========================================================================</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="preprocessor">#include "ZNconfig.h"</span>
<a name="l00076"></a>00076 <span class="preprocessor">#include "<a class="code" href="_file_util_8h.html">ReClaM/FileUtil.h</a>"</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">using namespace </span>std;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">//===========================================================================</span>
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00083"></a><a class="code" href="namespace_file_util.html">00083</a> <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00084"></a>00084 <span class="preprocessor">#endif</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>} <span class="comment">// namespace FileUtil</span>
<a name="l00089"></a>00089 <span class="preprocessor">#endif</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00094"></a>00094 <span class="preprocessor">#endif</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span>
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="comment">//===========================================================================</span>
<a name="l00129"></a><a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">00129</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">special_character</a>( std::istream&amp; is, <span class="keywordtype">char</span> *ch )
<a name="l00130"></a>00130 {
<a name="l00131"></a>00131     <span class="keywordflow">if</span> ( *ch == <span class="charliteral">'\\'</span>) {
<a name="l00132"></a>00132         <span class="keywordflow">if</span> ( !is.eof( ) ) is.get( *ch ); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00133"></a>00133         <span class="keywordflow">switch</span>( *ch ) {
<a name="l00134"></a>00134             <span class="keywordflow">case</span> <span class="charliteral">'t'</span> : *ch = <span class="charliteral">'\t'</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l00135"></a>00135             <span class="keywordflow">case</span> <span class="charliteral">'n'</span> : *ch = <span class="charliteral">'\n'</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">break</span>; 
<a name="l00136"></a>00136             <span class="keywordflow">default</span>:   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138     } 
<a name="l00139"></a>00139 
<a name="l00140"></a>00140     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00141"></a>00141 }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="comment">//===========================================================================</span>
<a name="l00172"></a><a class="code" href="namespace_file_util.html#c9009f9b742db4033d15e058be1e8e21">00172</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#c9009f9b742db4033d15e058be1e8e21">skipLine</a>( std::istream&amp; is, <span class="keywordtype">char</span> *ch )
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174     <span class="keywordflow">do</span> {
<a name="l00175"></a>00175         <span class="keywordflow">if</span> ( !is.eof( ) ) is.get( *ch ); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00176"></a>00176         <a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">special_character</a>( is, ch );
<a name="l00177"></a>00177     } <span class="keywordflow">while</span> ( !is.eof( ) &amp;&amp; *ch != <span class="charliteral">'\n'</span> );
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <span class="keywordflow">if</span> (!is.eof( )) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00180"></a>00180     <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">//===========================================================================</span>
<a name="l00205"></a><a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">00205</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( std::istream&amp; is )
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>    size_t pos, end;
<a name="l00209"></a>00209 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00211"></a>00211 <span class="preprocessor">#else</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00213"></a>00213 <span class="preprocessor">#endif</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>    pos = is.tellg( );
<a name="l00215"></a>00215     is.seekg( 0, ios::end );
<a name="l00216"></a>00216     end = is.tellg( );
<a name="l00217"></a>00217     is.seekg( pos, ios::beg );
<a name="l00218"></a>00218     <span class="keywordflow">return</span> end;
<a name="l00219"></a>00219 }
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">//===========================================================================</span>
<a name="l00243"></a><a class="code" href="namespace_file_util.html#09210589f380caae4be0a74f56841223">00243</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( std::ostream&amp; os )
<a name="l00244"></a>00244 {
<a name="l00245"></a>00245 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>    size_t pos, end;
<a name="l00247"></a>00247 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00249"></a>00249 <span class="preprocessor">#else</span>
<a name="l00250"></a>00250 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00251"></a>00251 <span class="preprocessor">#endif</span>
<a name="l00252"></a>00252 <span class="preprocessor"></span>    pos = os.tellp( );
<a name="l00253"></a>00253     os.seekp( 0, ios::end );
<a name="l00254"></a>00254     end = os.tellp( );
<a name="l00255"></a>00255     os.seekp( pos, ios::beg );
<a name="l00256"></a>00256     <span class="keywordflow">return</span> end;
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="comment">//===========================================================================</span>
<a name="l00278"></a><a class="code" href="namespace_file_util.html#89c9915e4f27791d7b89f69e1ada5dbb">00278</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( <span class="keyword">const</span> std::string&amp; name )
<a name="l00279"></a>00279 {
<a name="l00280"></a>00280     std::ifstream is( name.c_str( ) );
<a name="l00281"></a>00281 
<a name="l00282"></a>00282     <span class="keywordflow">if</span>( is )
<a name="l00283"></a>00283         <span class="keywordflow">return</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( is );
<a name="l00284"></a>00284     <span class="keywordflow">else</span>
<a name="l00285"></a>00285         <span class="keywordflow">return</span> 0;
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span>} <span class="comment">// namespace FileUtil</span>
<a name="l00290"></a>00290 <span class="preprocessor">#endif</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
<a name="l00292"></a>00292 <span class="comment">//===========================================================================</span>
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00296"></a>00296 <span class="preprocessor">#endif</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span>
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="comment">//===========================================================================</span>
<a name="l00321"></a><a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">00321</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">readfile</a>( std::istream&amp; is, std::string&amp; buf )
<a name="l00322"></a>00322 {
<a name="l00323"></a>00323 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span>    size_t pos, end;
<a name="l00325"></a>00325 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00327"></a>00327 <span class="preprocessor">#else</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00329"></a>00329 <span class="preprocessor">#endif</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span>    pos = is.tellg( );
<a name="l00331"></a>00331     is.seekg( 0, ios::end );
<a name="l00332"></a>00332     end = is.tellg( );
<a name="l00333"></a>00333     <span class="keywordtype">char</span> *b = <span class="keyword">new</span> <span class="keywordtype">char</span>[ static_cast&lt; unsigned &gt;( end ) + 1 ];
<a name="l00334"></a>00334     is.seekg( 0, ios::beg );
<a name="l00335"></a>00335     is.read( b, end );
<a name="l00336"></a>00336     b[ end ] = <span class="charliteral">'\0'</span>;
<a name="l00337"></a>00337     buf = b;
<a name="l00338"></a>00338     <span class="keyword">delete</span>[ ] b;
<a name="l00339"></a>00339     is.seekg( pos, ios::beg );
<a name="l00340"></a>00340     <span class="keywordflow">return</span> end;
<a name="l00341"></a>00341 }
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="comment">//===========================================================================</span>
<a name="l00368"></a><a class="code" href="namespace_file_util.html#8c2f94b6ff7b02382ef534c5f27bcba8">00368</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">readfile</a>( <span class="keyword">const</span> std::string&amp; name, std::string&amp; buf )
<a name="l00369"></a>00369 {
<a name="l00370"></a>00370     std::ifstream is( name.c_str( ) );
<a name="l00371"></a>00371 
<a name="l00372"></a>00372     <span class="keywordflow">if</span>( is )
<a name="l00373"></a>00373         <span class="keywordflow">return</span> <a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">readfile</a>( is, buf );
<a name="l00374"></a>00374     <span class="keywordflow">else</span> {
<a name="l00375"></a>00375         buf = <span class="stringliteral">""</span>;
<a name="l00376"></a>00376         <span class="keywordflow">return</span> 0;
<a name="l00377"></a>00377     }
<a name="l00378"></a>00378 }
<a name="l00379"></a>00379 
<a name="l00380"></a>00380 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00381"></a>00381 <span class="preprocessor"></span>}
<a name="l00382"></a>00382 <span class="preprocessor">#endif</span>
<a name="l00383"></a>00383 <span class="preprocessor"></span>
<a name="l00384"></a>00384 <span class="comment">//===========================================================================</span>
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00388"></a>00388 <span class="preprocessor">#endif</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>
<a name="l00390"></a>00390 <span class="comment">//===========================================================================</span>
<a name="l00415"></a><a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">00415</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">skipuntil</a>( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token )
<a name="l00416"></a>00416 {
<a name="l00417"></a>00417     <span class="keywordflow">if</span>( token.length( ) == 0 )
<a name="l00418"></a>00418         <span class="keywordflow">return</span>;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420     <span class="keywordtype">char</span>   c;
<a name="l00421"></a>00421     std::string cmp;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     <span class="comment">//</span>
<a name="l00424"></a>00424     <span class="comment">// read first chunk of characters</span>
<a name="l00425"></a>00425     <span class="comment">//</span>
<a name="l00426"></a>00426     <span class="keywordflow">while</span>( cmp.length( ) &lt; token.length( ) &amp;&amp; is &amp;&amp; ! is.eof( ) ) {
<a name="l00427"></a>00427         is.get( c );
<a name="l00428"></a>00428         cmp += c;
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <span class="comment">//</span>
<a name="l00432"></a>00432     <span class="comment">// loop until token found</span>
<a name="l00433"></a>00433     <span class="comment">//</span>
<a name="l00434"></a>00434     <span class="keywordflow">while</span>( ! ( cmp == token ) &amp;&amp; is &amp;&amp; ! is.eof( ) ) {
<a name="l00435"></a>00435         is.get( c );
<a name="l00436"></a>00436         cmp.erase( 0, 1 );
<a name="l00437"></a>00437         cmp += c;
<a name="l00438"></a>00438     }
<a name="l00439"></a>00439 }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00443"></a>00443 <span class="preprocessor"></span>}
<a name="l00444"></a>00444 <span class="preprocessor">#endif</span>
<a name="l00445"></a>00445 <span class="preprocessor"></span>
<a name="l00446"></a>00446 <span class="comment">//===========================================================================</span>
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00449"></a>00449 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00450"></a>00450 <span class="preprocessor">#endif</span>
<a name="l00451"></a>00451 <span class="preprocessor"></span>
<a name="l00452"></a>00452 
<a name="l00453"></a>00453 <span class="comment">//===========================================================================</span>
<a name="l00485"></a><a class="code" href="namespace_file_util.html#2f1666853e256e5449a294f418ff73e7">00485</a> <span class="comment"></span><span class="keywordtype">char</span> <a class="code" href="namespace_file_util.html#2f1666853e256e5449a294f418ff73e7">gettoken</a>( std::istream&amp; is, std::string&amp; token, <span class="keyword">const</span> std::string&amp; delim )
<a name="l00486"></a>00486 {
<a name="l00487"></a>00487     <span class="keywordtype">char</span>   c;
<a name="l00488"></a>00488 
<a name="l00489"></a>00489     <span class="comment">//</span>
<a name="l00490"></a>00490     <span class="comment">// skip leading delimiters</span>
<a name="l00491"></a>00491     <span class="comment">//</span>
<a name="l00492"></a>00492     <span class="keywordflow">while</span>( is &amp;&amp; ! is.eof( ) ) {
<a name="l00493"></a>00493         is.get( c );
<a name="l00494"></a>00494         <span class="keywordflow">if</span>( delim.find( c ) == std::string::npos ) 
<a name="l00495"></a>00495         {
<a name="l00496"></a>00496             is.putback( c );
<a name="l00497"></a>00497             <span class="keywordflow">break</span>;
<a name="l00498"></a>00498         }
<a name="l00499"></a>00499     }
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     <span class="comment">//</span>
<a name="l00502"></a>00502     <span class="comment">// read characters until the first occurence of a delimiter</span>
<a name="l00503"></a>00503     <span class="comment">//</span>
<a name="l00504"></a>00504     <span class="keywordflow">while</span>( is &amp;&amp; ! is.eof( ) ) {
<a name="l00505"></a>00505         is.get( c );
<a name="l00506"></a>00506         <span class="keywordflow">if</span>( delim.find( c ) != std::string::npos )
<a name="l00507"></a>00507             <span class="keywordflow">break</span>;
<a name="l00508"></a>00508         token += c;
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="keywordflow">return</span> c;
<a name="l00512"></a>00512 }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00515"></a>00515 <span class="preprocessor"></span>}
<a name="l00516"></a>00516 <span class="preprocessor">#endif</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>
<a name="l00518"></a>00518 <span class="comment">//===========================================================================</span>
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 <span class="comment">/*</span>
<a name="l00521"></a>00521 <span class="comment"> * \t = 0x09 tab</span>
<a name="l00522"></a>00522 <span class="comment"> * \r = 0x0d carriage return</span>
<a name="l00523"></a>00523 <span class="comment"> * \n = 0x0a newline</span>
<a name="l00524"></a>00524 <span class="comment"> * \v = 0x0b vertical tab</span>
<a name="l00525"></a>00525 <span class="comment"> * \a = 0x07 alert bell</span>
<a name="l00526"></a>00526 <span class="comment"> * \f = 0x0c form feed</span>
<a name="l00527"></a>00527 <span class="comment"> * \b = 0x08 backspace</span>
<a name="l00528"></a>00528 <span class="comment"> * \e = 0x1b escape</span>
<a name="l00529"></a>00529 <span class="comment"> */</span>
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil {
<a name="l00533"></a>00533 <span class="preprocessor">#endif</span>
<a name="l00534"></a>00534 <span class="preprocessor"></span>
<a name="l00535"></a>00535 <span class="comment">//===========================================================================</span>
<a name="l00562"></a>00562 <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> scanFrom( std::istream&amp; is, std::string&amp; t )
<a name="l00563"></a>00563 {
<a name="l00564"></a>00564     <span class="keywordtype">char</span> c, delim = <span class="charliteral">' '</span>;
<a name="l00565"></a>00565     std::string tt = <span class="stringliteral">""</span>;
<a name="l00566"></a>00566 
<a name="l00567"></a>00567     <span class="keywordflow">if</span>( is ) {
<a name="l00568"></a>00568         <span class="comment">//</span>
<a name="l00569"></a>00569         <span class="comment">// skip leading white space characters</span>
<a name="l00570"></a>00570         <span class="comment">//</span>
<a name="l00571"></a>00571         <span class="keywordflow">do</span>
<a name="l00572"></a>00572             is.get( c );
<a name="l00573"></a>00573         <span class="keywordflow">while</span>( is &amp;&amp; ! is.eof( ) &amp;&amp; isspace( c ) );
<a name="l00574"></a>00574         <span class="keywordflow">if</span>( c == <span class="charliteral">'\"'</span> || c == <span class="charliteral">'\''</span> ) {
<a name="l00575"></a>00575             delim = c;
<a name="l00576"></a>00576             is.get( c );
<a name="l00577"></a>00577         }
<a name="l00578"></a>00578 
<a name="l00579"></a>00579         <span class="keywordflow">while</span>( is &amp;&amp; ! is.eof( ) &amp;&amp; c != delim &amp;&amp; ( delim != <span class="charliteral">' '</span> || ! isspace( c ) ) ) {
<a name="l00580"></a>00580             <span class="keywordflow">if</span>( c == <span class="charliteral">'\\'</span> ) {
<a name="l00581"></a>00581                 is.get( c );
<a name="l00582"></a>00582                 <span class="keywordflow">switch</span>( c ) {
<a name="l00583"></a>00583                     <span class="keywordflow">case</span> <span class="charliteral">'t'</span> : c = <span class="charliteral">'\t'</span>; <span class="keywordflow">break</span>;
<a name="l00584"></a>00584                     <span class="keywordflow">case</span> <span class="charliteral">'r'</span> : c = <span class="charliteral">'\r'</span>; <span class="keywordflow">break</span>;
<a name="l00585"></a>00585                     <span class="keywordflow">case</span> <span class="charliteral">'n'</span> : c = <span class="charliteral">'\n'</span>; <span class="keywordflow">break</span>;
<a name="l00586"></a>00586                     <span class="keywordflow">case</span> <span class="charliteral">'v'</span> : c = <span class="charliteral">'\v'</span>; <span class="keywordflow">break</span>;
<a name="l00587"></a>00587                     <span class="keywordflow">case</span> <span class="charliteral">'a'</span> : c = <span class="charliteral">'\a'</span>; <span class="keywordflow">break</span>;
<a name="l00588"></a>00588                     <span class="keywordflow">case</span> <span class="charliteral">'f'</span> : c = <span class="charliteral">'\f'</span>; <span class="keywordflow">break</span>;
<a name="l00589"></a>00589                     <span class="keywordflow">case</span> <span class="charliteral">'b'</span> : c = <span class="charliteral">'\b'</span>; <span class="keywordflow">break</span>;
<a name="l00590"></a>00590                 }
<a name="l00591"></a>00591             }
<a name="l00592"></a>00592             tt += c;
<a name="l00593"></a>00593             is.get( c );
<a name="l00594"></a>00594         }
<a name="l00595"></a>00595 
<a name="l00596"></a>00596         t = tt;
<a name="l00597"></a>00597     } <span class="keywordflow">else</span>
<a name="l00598"></a>00598         is.clear( );
<a name="l00599"></a>00599 
<a name="l00600"></a>00600     <span class="keywordflow">return</span> is.good( );
<a name="l00601"></a>00601 }
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">//===========================================================================</span>
<a name="l00642"></a>00642 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00643"></a><a class="code" href="namespace_file_util.html#536fd026d5f4d6f73938a4045f415257">00643</a> <span class="keywordtype">bool</span> scanFrom( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token, std::string&amp; t, <span class="keywordtype">bool</span> rew )
<a name="l00644"></a>00644 {
<a name="l00645"></a>00645     <span class="keywordflow">if</span>( rew ) <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( is );
<a name="l00646"></a>00646     <a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">skipuntil</a>( is, token );
<a name="l00647"></a>00647     <span class="keywordflow">return</span> scanFrom( is, t );
<a name="l00648"></a>00648 }
<a name="l00649"></a>00649 
<a name="l00650"></a>00650 
<a name="l00651"></a>00651 <span class="comment">//===========================================================================</span>
<a name="l00710"></a>00710 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00711"></a><a class="code" href="namespace_file_util.html#6446d8b6f3676f0b4069664cd9f2b06b">00711</a> <span class="keywordtype">bool</span> scanFrom( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token, std::vector&lt; std::string &gt;&amp; t,
<a name="l00712"></a>00712                <span class="keywordtype">bool</span> rew )
<a name="l00713"></a>00713 {
<a name="l00714"></a>00714     <span class="keywordtype">char</span>   c;
<a name="l00715"></a>00715     <span class="keywordtype">bool</span>   ok;
<a name="l00716"></a>00716     std::string tt;
<a name="l00717"></a>00717 
<a name="l00718"></a>00718     <span class="keywordflow">if</span>( rew ) <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( is );
<a name="l00719"></a>00719 
<a name="l00720"></a>00720     <a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">skipuntil</a>( is, token );
<a name="l00721"></a>00721 
<a name="l00722"></a>00722     <span class="keywordflow">if</span>( is ) {
<a name="l00723"></a>00723         t.erase( t.begin( ), t.end( ) );
<a name="l00724"></a>00724         is &gt;&gt; c;
<a name="l00725"></a>00725         <span class="keywordflow">if</span>( c != <span class="charliteral">'('</span> ) {
<a name="l00726"></a>00726             is.putback( c );
<a name="l00727"></a>00727             ok = scanFrom( is, tt );
<a name="l00728"></a>00728             t.push_back( tt );
<a name="l00729"></a>00729             <span class="keywordflow">return</span> ok;
<a name="l00730"></a>00730         } <span class="keywordflow">else</span> <span class="keywordflow">while</span>( is ) {
<a name="l00731"></a>00731             ok = scanFrom( is, tt );
<a name="l00732"></a>00732             t.push_back( tt );
<a name="l00733"></a>00733             <span class="keywordflow">if</span>( ! ok )
<a name="l00734"></a>00734                 <span class="keywordflow">break</span>;
<a name="l00735"></a>00735             is &gt;&gt; c;
<a name="l00736"></a>00736             <span class="keywordflow">if</span>( c == <span class="charliteral">')'</span> )
<a name="l00737"></a>00737                 <span class="keywordflow">break</span>;
<a name="l00738"></a>00738             is.putback( c );
<a name="l00739"></a>00739         }
<a name="l00740"></a>00740     } <span class="keywordflow">else</span>
<a name="l00741"></a>00741         is.clear( );
<a name="l00742"></a>00742 
<a name="l00743"></a>00743     <span class="keywordflow">return</span> is.good( );
<a name="l00744"></a>00744 }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 <span class="comment">//===========================================================================</span>
<a name="l00774"></a>00774 <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> printTo ( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; t )
<a name="l00775"></a>00775 {
<a name="l00776"></a>00776     os &lt;&lt; <span class="charliteral">'"'</span>;
<a name="l00777"></a>00777     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; t.length( ); ++i ) {
<a name="l00778"></a>00778         <span class="keywordtype">char</span> c = t[ i ];
<a name="l00779"></a>00779         <span class="keywordflow">if</span>( c == <span class="charliteral">'\\'</span> ) {
<a name="l00780"></a>00780             <span class="keywordflow">switch</span>( t[ ++i ] ) {
<a name="l00781"></a>00781                 <span class="keywordflow">case</span> <span class="charliteral">'t'</span> : c = <span class="charliteral">'\t'</span>; <span class="keywordflow">break</span>;
<a name="l00782"></a>00782                 <span class="keywordflow">case</span> <span class="charliteral">'r'</span> : c = <span class="charliteral">'\r'</span>; <span class="keywordflow">break</span>;
<a name="l00783"></a>00783                 <span class="keywordflow">case</span> <span class="charliteral">'n'</span> : c = <span class="charliteral">'\n'</span>; <span class="keywordflow">break</span>;
<a name="l00784"></a>00784                 <span class="keywordflow">case</span> <span class="charliteral">'v'</span> : c = <span class="charliteral">'\v'</span>; <span class="keywordflow">break</span>;
<a name="l00785"></a>00785                 <span class="keywordflow">case</span> <span class="charliteral">'a'</span> : c = <span class="charliteral">'\a'</span>; <span class="keywordflow">break</span>;
<a name="l00786"></a>00786                 <span class="keywordflow">case</span> <span class="charliteral">'f'</span> : c = <span class="charliteral">'\f'</span>; <span class="keywordflow">break</span>;
<a name="l00787"></a>00787                 <span class="keywordflow">case</span> <span class="charliteral">'b'</span> : c = <span class="charliteral">'\b'</span>; <span class="keywordflow">break</span>;
<a name="l00788"></a>00788                 <span class="keywordflow">default</span>  : c = t[ i-1 ];
<a name="l00789"></a>00789             }
<a name="l00790"></a>00790         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( c == <span class="charliteral">'"'</span> )
<a name="l00791"></a>00791             os &lt;&lt; <span class="charliteral">'\\'</span>;
<a name="l00792"></a>00792         os &lt;&lt; c;
<a name="l00793"></a>00793     }
<a name="l00794"></a>00794     os &lt;&lt; <span class="charliteral">'"'</span> &lt;&lt; endl;
<a name="l00795"></a>00795     <span class="keywordflow">return</span> os.good( );
<a name="l00796"></a>00796 }
<a name="l00797"></a>00797 
<a name="l00798"></a>00798 
<a name="l00799"></a>00799 <span class="comment">//===========================================================================</span>
<a name="l00829"></a>00829 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00830"></a><a class="code" href="namespace_file_util.html#add196188f517a82f0531de4b10f455c">00830</a> <span class="keywordtype">bool</span> printTo ( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token, <span class="keyword">const</span> std::string&amp; t )
<a name="l00831"></a>00831 {
<a name="l00832"></a>00832     os &lt;&lt; token &lt;&lt; <span class="charliteral">'\t'</span>;
<a name="l00833"></a>00833     <span class="keywordflow">return</span> printTo( os, t );
<a name="l00834"></a>00834 }
<a name="l00835"></a>00835 
<a name="l00836"></a>00836 
<a name="l00837"></a>00837 
<a name="l00838"></a>00838 <span class="comment">//===========================================================================</span>
<a name="l00869"></a>00869 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00870"></a><a class="code" href="namespace_file_util.html#24cecfb8f665eeb184905e7c17720b06">00870</a> <span class="keywordtype">bool</span> printTo ( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token, <span class="keyword">const</span> std::vector&lt; std::string &gt;&amp; t )
<a name="l00871"></a>00871 {
<a name="l00872"></a>00872     os &lt;&lt; token &lt;&lt; <span class="stringliteral">"\t("</span>;
<a name="l00873"></a>00873     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; t.size( ) &amp;&amp; os; ++i ) {
<a name="l00874"></a>00874         os &lt;&lt; <span class="charliteral">' '</span>;
<a name="l00875"></a>00875         printTo( os, t[ i ] );
<a name="l00876"></a>00876     }
<a name="l00877"></a>00877     os &lt;&lt; <span class="stringliteral">" )"</span> &lt;&lt; endl;
<a name="l00878"></a>00878     <span class="keywordflow">return</span> os.good( );
<a name="l00879"></a>00879 }
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00882"></a>00882 <span class="preprocessor"></span>}
<a name="l00883"></a>00883 <span class="preprocessor">#endif</span>
<a name="l00884"></a>00884 <span class="preprocessor"></span>
<a name="l00885"></a>00885 
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 
<a name="l00888"></a>00888 
<a name="l00889"></a>00889 
<a name="l00890"></a>00890 
<a name="l00891"></a>00891 
<a name="l00892"></a>00892 
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 
<a name="l00895"></a>00895 
<a name="l00896"></a>00896 
<a name="l00897"></a>00897 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 16 13:07:16 2009 for ReClaM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
