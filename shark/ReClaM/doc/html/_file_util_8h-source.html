<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ReClaM: FileUtil.h Source File</title>
<link href="ReClaM.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>FileUtil.h</h1><a href="_file_util_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//===========================================================================</span>
<a name="l00079"></a>00079 <span class="comment"></span><span class="comment">//===========================================================================</span>
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="preprocessor">#ifndef __FILEUTIL_H</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor">#define __FILEUTIL_H</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00086"></a>00086 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00087"></a>00087 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00088"></a>00088 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00089"></a>00089 <span class="preprocessor">#include &lt;iomanip&gt;</span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="comment">//</span>
<a name="l00093"></a>00093 <span class="comment">// g++ can't handle namespaces yet</span>
<a name="l00094"></a>00094 <span class="comment">//</span>
<a name="l00095"></a>00095 <span class="keyword">namespace </span>FileUtil {
<a name="l00096"></a>00096 <span class="preprocessor">#else</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#define FileUtil</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">//===========================================================================</span>
<a name="l00118"></a><a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">00118</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( std::istream&amp; is ) 
<a name="l00119"></a>00119 { 
<a name="l00120"></a>00120     is.seekg( 0, std::ios::beg ); 
<a name="l00121"></a>00121 }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">//===========================================================================</span>
<a name="l00140"></a><a class="code" href="namespace_file_util.html#9ba0b3a34f161edd5d2ec8f1f30539e0">00140</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( std::ostream&amp; os ) 
<a name="l00141"></a>00141 { 
<a name="l00142"></a>00142     os.seekp( 0, std::ios::beg ); 
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( std::istream&amp; is );
<a name="l00147"></a>00147 
<a name="l00149"></a>00149 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( std::ostream&amp; os );
<a name="l00150"></a>00150 
<a name="l00152"></a>00152 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#e14167c7a67527cff8cbee84f5dc48d0">filesize</a>( <span class="keyword">const</span> std::string&amp; name );
<a name="l00153"></a>00153 
<a name="l00155"></a>00155 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">readfile</a>( std::istream&amp; is, std::string&amp; buf );
<a name="l00156"></a>00156 
<a name="l00158"></a>00158 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ca522e677d94872f1e29c0654625b57d">readfile</a>( <span class="keyword">const</span> std::string&amp; name, std::string&amp; buf );
<a name="l00159"></a>00159 
<a name="l00161"></a>00161 <span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">skipuntil</a>( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token );
<a name="l00162"></a>00162 
<a name="l00164"></a>00164 <span class="keywordtype">char</span> <a class="code" href="namespace_file_util.html#2f1666853e256e5449a294f418ff73e7">gettoken</a>( std::istream&amp;      is,
<a name="l00165"></a>00165                std::string&amp;       token,
<a name="l00166"></a>00166                <span class="keyword">const</span> std::string&amp; delim = <span class="stringliteral">" \t\r\n\v\f"</span> );
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">//===========================================================================</span>
<a name="l00216"></a>00216 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00217"></a><a class="code" href="namespace_file_util.html#263de3f59bca483f27cbdd0dc6826b27">00217</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#536fd026d5f4d6f73938a4045f415257">scanFrom</a>( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token,
<a name="l00218"></a>00218                       T&amp; t, <span class="keywordtype">bool</span> rew = <span class="keyword">false</span> )
<a name="l00219"></a>00219 {
<a name="l00220"></a>00220     
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     is.clear( );   <span class="comment">// no one knows ...</span>
<a name="l00223"></a>00223     <span class="keywordflow">if</span>( rew ) <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( is );
<a name="l00224"></a>00224     <a class="code" href="namespace_file_util.html#077dd4a8a1ec9ea5869fe8ff6f5d28cb">skipuntil</a>( is, token );
<a name="l00225"></a>00225     <span class="keywordflow">if</span>( is ) 
<a name="l00226"></a>00226         is &gt;&gt; t;
<a name="l00227"></a>00227     <span class="keywordflow">else</span> 
<a name="l00228"></a>00228         is.clear( );
<a name="l00229"></a>00229     
<a name="l00230"></a>00230     <span class="keywordflow">return</span> is.good( );
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">//===========================================================================</span>
<a name="l00273"></a>00273 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00274"></a><a class="code" href="namespace_file_util.html#17e5405f77daae31c1200d3d91be94e1">00274</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#add196188f517a82f0531de4b10f455c">printTo</a>( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token, <span class="keyword">const</span> T&amp; t )
<a name="l00275"></a>00275 {
<a name="l00276"></a>00276   os &lt;&lt; token &lt;&lt; std::setw( 40 ) &lt;&lt; std::setfill( <span class="charliteral">'_'</span> ) &lt;&lt; t &lt;&lt; std::endl;
<a name="l00277"></a>00277     <span class="keywordflow">return</span> os.good( );
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 
<a name="l00281"></a>00281 <span class="keyword">template</span> &lt; &gt;
<a name="l00282"></a>00282 <span class="keywordtype">bool</span> scanFrom( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token,
<a name="l00283"></a>00283                std::string&amp; t, <span class="keywordtype">bool</span> rew );
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 
<a name="l00287"></a>00287 <span class="keyword">template</span> &lt; &gt;
<a name="l00288"></a>00288 <span class="keywordtype">bool</span> printTo ( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token,
<a name="l00289"></a>00289                <span class="keyword">const</span> std::string&amp; t );
<a name="l00290"></a>00290 
<a name="l00292"></a>00292 <span class="keyword">template</span> &lt; &gt;
<a name="l00293"></a>00293 <span class="keywordtype">bool</span> scanFrom( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token,
<a name="l00294"></a>00294                std::vector&lt; std::string &gt;&amp; t, <span class="keywordtype">bool</span> rew );
<a name="l00295"></a>00295 
<a name="l00297"></a>00297 <span class="keyword">template</span> &lt; &gt;
<a name="l00298"></a>00298 <span class="keywordtype">bool</span> printTo ( std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token,
<a name="l00299"></a>00299                <span class="keyword">const</span> std::vector&lt; std::string &gt;&amp; t );
<a name="l00300"></a>00300 
<a name="l00303"></a>00303 <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">special_character</a>( std::istream&amp; is, <span class="keywordtype">char</span> *ch );
<a name="l00304"></a>00304 
<a name="l00306"></a>00306 <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#c9009f9b742db4033d15e058be1e8e21">skipLine</a>( std::istream&amp; is, <span class="keywordtype">char</span> *ch );
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="comment">//===========================================================================</span>
<a name="l00333"></a><a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc">00333</a> <span class="comment"></span><span class="keyword">enum</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc">iotype</a> { <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc380ad9dc7f58f44fc2a4c1599ea00fa1">SetDefault</a>, <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dcdbd8be02aa3d5b1e3b23dc5850874d86">ScanFrom</a>, <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc4bade5acaa6add0bda5ae92d7f8d52fc">PrintTo</a> };
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="comment">//===========================================================================</span>
<a name="l00377"></a>00377 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00378"></a><a class="code" href="namespace_file_util.html#e57ef1cf3509d85b0128ccdacbd87eab">00378</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#e57ef1cf3509d85b0128ccdacbd87eab">io</a>( std::istream&amp; is, std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token,
<a name="l00379"></a>00379                     T&amp; val, <span class="keyword">const</span> T&amp; defval, <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc">iotype</a> type )
<a name="l00380"></a>00380 {
<a name="l00381"></a>00381     <span class="keywordflow">switch</span>( type ) {
<a name="l00382"></a>00382         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc380ad9dc7f58f44fc2a4c1599ea00fa1">SetDefault</a> :
<a name="l00383"></a>00383             val = defval;
<a name="l00384"></a>00384             <span class="keywordflow">break</span>;
<a name="l00385"></a>00385         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dcdbd8be02aa3d5b1e3b23dc5850874d86">ScanFrom</a> :
<a name="l00386"></a>00386             <a class="code" href="namespace_file_util.html#536fd026d5f4d6f73938a4045f415257">scanFrom</a>( is, token, val, <span class="keyword">true</span> );
<a name="l00387"></a>00387             <span class="keywordflow">break</span>;
<a name="l00388"></a>00388         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc4bade5acaa6add0bda5ae92d7f8d52fc">PrintTo</a> :
<a name="l00389"></a>00389             <a class="code" href="namespace_file_util.html#add196188f517a82f0531de4b10f455c">printTo</a>( os, token, val );
<a name="l00390"></a>00390             <span class="keywordflow">break</span>;
<a name="l00391"></a>00391     }
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">//===========================================================================</span>
<a name="l00437"></a>00437 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00438"></a><a class="code" href="namespace_file_util.html#b3e413249c38d9909cbcd5b9e0c426a7">00438</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#b3e413249c38d9909cbcd5b9e0c426a7">io_strict</a>( std::istream&amp; is, std::ostream&amp; os, 
<a name="l00439"></a>00439                        <span class="keyword">const</span> std::string&amp; token,
<a name="l00440"></a>00440                        T&amp; val, <span class="keyword">const</span> T&amp; defval, <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc">iotype</a> type )
<a name="l00441"></a>00441 {
<a name="l00442"></a>00442     <span class="keywordflow">switch</span>( type ) {
<a name="l00443"></a>00443         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc380ad9dc7f58f44fc2a4c1599ea00fa1">SetDefault</a> :
<a name="l00444"></a>00444             val = defval;
<a name="l00445"></a>00445             <span class="keywordflow">break</span>;
<a name="l00446"></a>00446         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dcdbd8be02aa3d5b1e3b23dc5850874d86">ScanFrom</a> :
<a name="l00447"></a>00447             <a class="code" href="namespace_file_util.html#778eee069294346c27e5cbe0de0bb47f">scanFrom_strict</a>( is, token, val, <span class="keyword">true</span> );
<a name="l00448"></a>00448             <span class="keywordflow">break</span>;
<a name="l00449"></a>00449         <span class="keywordflow">case</span> <a class="code" href="namespace_file_util.html#cbded1971f8560a840e192b9ffd9a8dc4bade5acaa6add0bda5ae92d7f8d52fc">PrintTo</a> :
<a name="l00450"></a>00450             <a class="code" href="namespace_file_util.html#9e8858da9efd1bd243e824e8a6dfc6c1">printTo_strict</a>( os, token, val );
<a name="l00451"></a>00451             <span class="keywordflow">break</span>;
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 <span class="comment">//===========================================================================</span>
<a name="l00496"></a>00496 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00497"></a><a class="code" href="namespace_file_util.html#7ebcbf2e5bc2f41439c83879988e68ac">00497</a> <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#7ebcbf2e5bc2f41439c83879988e68ac">scanLine_strict</a>( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token,
<a name="l00498"></a>00498                T&amp; t )
<a name="l00499"></a>00499 {
<a name="l00500"></a>00500     std::string  var_name;
<a name="l00501"></a>00501     <span class="keywordtype">char</span>         ch;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503     
<a name="l00504"></a>00504     <span class="comment">// Get first character from stream but put it back immediately:</span>
<a name="l00505"></a>00505     <span class="keywordflow">if</span> ( !is.eof( ) ) is.get( ch ); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00506"></a>00506     is.putback( ch );
<a name="l00507"></a>00507 
<a name="l00508"></a>00508     <span class="comment">// Each valid token must begin with a letter or an underscore:</span>
<a name="l00509"></a>00509     <span class="keywordflow">if</span> ( isalpha( ch ) || ch == <span class="charliteral">'_'</span> ) {
<a name="l00510"></a>00510         <span class="comment">// Each token name continues with a letter, a digit or an</span>
<a name="l00511"></a>00511         <span class="comment">// underscore:</span>
<a name="l00512"></a>00512         <span class="keywordflow">do</span> {
<a name="l00513"></a>00513             <span class="keywordflow">if</span> ( !is.eof( ) ) is.get( ch ); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00514"></a>00514             <a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">special_character</a>( is, &amp;ch );
<a name="l00515"></a>00515 
<a name="l00516"></a>00516             <span class="keywordflow">if</span> ( !isspace( ch ) &amp;&amp; ch != <span class="charliteral">'\t'</span> &amp;&amp; 
<a name="l00517"></a>00517                  ( isalpha( ch ) || isdigit( ch ) || ch == <span class="charliteral">'_'</span> ) ) 
<a name="l00518"></a>00518             {
<a name="l00519"></a>00519                 var_name += ch;
<a name="l00520"></a>00520             }
<a name="l00521"></a>00521         } <span class="keywordflow">while</span> ( !is.eof( ) &amp;&amp; !isspace( ch ) &amp;&amp; ch != <span class="charliteral">'\t'</span> &amp;&amp; ch != <span class="charliteral">'\n'</span>);
<a name="l00522"></a>00522 
<a name="l00523"></a>00523         <span class="comment">// Token name and token value are separated by whitespaces or</span>
<a name="l00524"></a>00524         <span class="comment">// tabulators. Otherwise there's something wrong:</span>
<a name="l00525"></a>00525         <span class="keywordflow">if</span> ( is.eof( ) || ch == <span class="charliteral">'\n'</span> ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         <span class="comment">// Skip all further whitespaces and tabulators that separate</span>
<a name="l00528"></a>00528         <span class="comment">// Token name and value:</span>
<a name="l00529"></a>00529         <span class="keywordflow">do</span> {
<a name="l00530"></a>00530             <span class="keywordflow">if</span> ( !is.eof( ) ) is.get( ch ); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00531"></a>00531             <a class="code" href="namespace_file_util.html#ab9be1d7a4f1eecda7afa88b1ca3ad7e">special_character</a>( is, &amp;ch );
<a name="l00532"></a>00532         } <span class="keywordflow">while</span>( !is.eof( ) &amp;&amp; ( isspace( ch ) || ch == <span class="charliteral">'\t'</span> ) );
<a name="l00533"></a>00533 
<a name="l00534"></a>00534         <span class="comment">// Token name and token value are separated by whitespaces or</span>
<a name="l00535"></a>00535         <span class="comment">// tabulators. Otherwise there's something wrong:</span>
<a name="l00536"></a>00536         <span class="keywordflow">if</span> ( is.eof( ) || ch == <span class="charliteral">'\n'</span> ) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">else</span> is.putback( ch );
<a name="l00537"></a>00537         
<a name="l00538"></a>00538         <span class="comment">// Are the token name read and the token name searched for equal?</span>
<a name="l00539"></a>00539         <span class="comment">// Yes =&gt; Read token value. No =&gt; Maybe the token and its value</span>
<a name="l00540"></a>00540         <span class="comment">// can be found in one of the lines following, so set the get pointer</span>
<a name="l00541"></a>00541         <span class="comment">// to the beginning of the next line and exit:</span>
<a name="l00542"></a>00542         <span class="keywordflow">if</span> ( var_name == token ) 
<a name="l00543"></a>00543         {
<a name="l00544"></a>00544             is &gt;&gt; t;
<a name="l00545"></a>00545             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00546"></a>00546         }
<a name="l00547"></a>00547     } 
<a name="l00548"></a>00548 
<a name="l00549"></a>00549     <span class="comment">// No valid token, so set get pointer to the beginning of</span>
<a name="l00550"></a>00550     <span class="comment">// the next line and return:</span>
<a name="l00551"></a>00551     <a class="code" href="namespace_file_util.html#c9009f9b742db4033d15e058be1e8e21">skipLine</a>( is, &amp;ch );
<a name="l00552"></a>00552     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00553"></a>00553 }
<a name="l00554"></a>00554 
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 
<a name="l00557"></a>00557 <span class="comment">//===========================================================================</span>
<a name="l00596"></a>00596 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00597"></a><a class="code" href="namespace_file_util.html#778eee069294346c27e5cbe0de0bb47f">00597</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#778eee069294346c27e5cbe0de0bb47f">scanFrom_strict</a>( std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token,
<a name="l00598"></a>00598                             T&amp; t, <span class="keywordtype">bool</span> rew = <span class="keyword">false</span> )
<a name="l00599"></a>00599 {
<a name="l00600"></a>00600     <span class="keywordtype">bool</span> status( <span class="keyword">true</span> );
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     is.clear( );   <span class="comment">// No one knows ...</span>
<a name="l00604"></a>00604     <span class="keywordflow">if</span>( rew ) <a class="code" href="namespace_file_util.html#eabcc2110b9133a9c97479c4b017b842">rewind</a>( is );
<a name="l00605"></a>00605     <span class="keywordflow">do</span> {
<a name="l00606"></a>00606         status = <a class="code" href="namespace_file_util.html#7ebcbf2e5bc2f41439c83879988e68ac">scanLine_strict</a>( is, token, t );
<a name="l00607"></a>00607     } <span class="keywordflow">while</span>( status == <span class="keyword">false</span> &amp;&amp; is );
<a name="l00608"></a>00608     
<a name="l00609"></a>00609     <span class="keywordflow">return</span> status;
<a name="l00610"></a>00610 }
<a name="l00611"></a>00611 
<a name="l00612"></a>00612 
<a name="l00613"></a>00613 <span class="comment">//===========================================================================</span>
<a name="l00647"></a>00647 <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00648"></a><a class="code" href="namespace_file_util.html#9e8858da9efd1bd243e824e8a6dfc6c1">00648</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#9e8858da9efd1bd243e824e8a6dfc6c1">printTo_strict</a>( std::ostream&amp; os, 
<a name="l00649"></a>00649                             <span class="keyword">const</span> std::string&amp; token, 
<a name="l00650"></a>00650                             <span class="keyword">const</span> T&amp; t                )
<a name="l00651"></a>00651 {
<a name="l00652"></a>00652     <span class="keywordtype">unsigned</span> i;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655     <span class="comment">// Check format of token name:</span>
<a name="l00656"></a>00656     <span class="keywordflow">if</span> ( !isalpha( token[ 0 ] ) &amp;&amp; token[ 0 ] != <span class="charliteral">'_'</span> )
<a name="l00657"></a>00657     {
<a name="l00658"></a>00658         std::cerr &lt;&lt; <span class="stringliteral">"Error! Token \""</span> &lt;&lt; token &lt;&lt; <span class="stringliteral">"\" is not valid, "</span>
<a name="l00659"></a>00659              &lt;&lt; <span class="stringliteral">"because it must begin with a letter or an underscore!"</span> 
<a name="l00660"></a>00660              &lt;&lt; std::endl;
<a name="l00661"></a>00661         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00662"></a>00662     }  
<a name="l00663"></a>00663     <span class="keywordflow">for</span> ( i = 1; i &lt; token.size( ); i++ ) 
<a name="l00664"></a>00664     {
<a name="l00665"></a>00665         <span class="keywordflow">if</span> ( !isalpha( token[ i ] ) &amp;&amp;
<a name="l00666"></a>00666              !isdigit( token[ i ] ) &amp;&amp;
<a name="l00667"></a>00667              token[ i ] != <span class="charliteral">'_'</span>        )
<a name="l00668"></a>00668         {
<a name="l00669"></a>00669             std::cerr &lt;&lt; <span class="stringliteral">"Error! Token \""</span> &lt;&lt; token &lt;&lt; <span class="stringliteral">"\" is not valid, "</span>
<a name="l00670"></a>00670                  &lt;&lt; <span class="stringliteral">"because the characters after the first one must "</span>
<a name="l00671"></a>00671                  &lt;&lt; <span class="stringliteral">"be a letter, a digit or an underscore!"</span> 
<a name="l00672"></a>00672                  &lt;&lt; std::endl;
<a name="l00673"></a>00673             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00674"></a>00674         }
<a name="l00675"></a>00675     }
<a name="l00676"></a>00676 
<a name="l00677"></a>00677     <span class="comment">// Token name has the right format, so write it and its value</span>
<a name="l00678"></a>00678     <span class="comment">// to the output stream:</span>
<a name="l00679"></a>00679     os &lt;&lt; token &lt;&lt; <span class="stringliteral">"\t\t"</span> &lt;&lt; t &lt;&lt; std::endl;
<a name="l00680"></a>00680     <span class="keywordflow">return</span> os.good( );
<a name="l00681"></a>00681 }
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 
<a name="l00684"></a>00684 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span>} <span class="comment">// namespace FileUtil</span>
<a name="l00686"></a>00686 <span class="preprocessor">#endif</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span>
<a name="l00688"></a>00688 <span class="preprocessor">#endif // __FILEUTIL_H</span>
<a name="l00689"></a>00689 <span class="preprocessor"></span>
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 
<a name="l00697"></a>00697 
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 
<a name="l00700"></a>00700 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 16 13:07:16 2009 for ReClaM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
