<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ReClaM: optGridNested Class Reference</title>
<link href="ReClaM.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>optGridNested Class Reference</h1><!-- doxytag: class="optGridNested" --><!-- doxytag: inherits="Optimizer" -->Nested grid search.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="opt_grid_8h-source.html">optGrid.h</a>&gt;</code>
<p>
<p>Inheritance diagram for optGridNested:
<p><center><img src="classopt_grid_nested.png" usemap="#optGridNested_map" border="0" alt=""></center>
<map name="optGridNested_map">
<area href="class_optimizer.html" alt="Optimizer" shape="rect" coords="0,0,92,24">
</map>
<a href="classopt_grid_nested-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#bf707fa9b7d7b7295d2f9f90bce26656">optGridNested</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#bf707fa9b7d7b7295d2f9f90bce26656"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#cae4a59eb9365f7183ddbde651f54ad6">~optGridNested</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#cae4a59eb9365f7183ddbde651f54ad6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#27a4cc78ae169f0bd48286908de63e8b">init</a> (<a class="el" href="class_model.html">Model</a> &amp;model)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">There is no useful default initialization for this optimizer.  <a href="#27a4cc78ae169f0bd48286908de63e8b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#c06c8e70634b7ba102567ae87e6c21bd">init</a> (<a class="el" href="class_model.html">Model</a> &amp;model, const Array&lt; double &gt; &amp;min, const Array&lt; double &gt; &amp;max)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of the nested grid search.  <a href="#c06c8e70634b7ba102567ae87e6c21bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#48718456436126f613d193ef6bc0fa53">optimize</a> (<a class="el" href="class_model.html">Model</a> &amp;model, <a class="el" href="class_error_function.html">ErrorFunction</a> &amp;errorfunction, const Array&lt; double &gt; &amp;input, const Array&lt; double &gt; &amp;target)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Every call of the optimization member computes the error landscape on the current grid.  <a href="#48718456436126f613d193ef6bc0fa53"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#0233c6d549bb67e9783fe4de8fc3c8ac">minimum</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">minimum parameter value to check  <a href="#0233c6d549bb67e9783fe4de8fc3c8ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#8024ee4c096a195608e0f3554e3a9d5c">maximum</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">maximum parameter value to check  <a href="#8024ee4c096a195608e0f3554e3a9d5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#f3c5cf48ec4b11d835623c9a74269e74">step</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">current step size for every parameter  <a href="#f3c5cf48ec4b11d835623c9a74269e74"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopt_grid_nested.html#f2d8d3d40dfcae3fc244b88deba7de3e">landscape</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error landscape  <a href="#f2d8d3d40dfcae3fc244b88deba7de3e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Nested grid search. 
<p>
<dl compact><dt><b></b></dt><dd>The <a class="el" href="classopt_grid_nested.html">optGridNested</a> class is an iterative optimizer, doing one grid search in every iteration. In every iteration, it halves the grid extent doubling the resolution in every coordinate.</dd></dl>
<dl compact><dt><b></b></dt><dd>Although nested grid search is much less exhaustive than standard grid search, it still suffers from exponential time and memory complexity in the number of variables optimized. Therefore, if the number of variables is larger than 2 or 3, consider using the <a class="el" href="classopt_c_m_a.html">optCMA</a> class instead. </dd></dl>

<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00248">248</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="bf707fa9b7d7b7295d2f9f90bce26656"></a><!-- doxytag: member="optGridNested::optGridNested" ref="bf707fa9b7d7b7295d2f9f90bce26656" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optGridNested::optGridNested           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00252">252</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
</div>
</div><p>
<a class="anchor" name="cae4a59eb9365f7183ddbde651f54ad6"></a><!-- doxytag: member="optGridNested::~optGridNested" ref="cae4a59eb9365f7183ddbde651f54ad6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optGridNested::~optGridNested           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00257">257</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="c06c8e70634b7ba102567ae87e6c21bd"></a><!-- doxytag: member="optGridNested::init" ref="c06c8e70634b7ba102567ae87e6c21bd" args="(Model &amp;model, const Array&lt; double &gt; &amp;min, const Array&lt; double &gt; &amp;max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void optGridNested::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialization of the nested grid search. 
<p>
<dl compact><dt><b></b></dt><dd>The min and max arrays define ranges for every parameter to optimize. These ranges are strict, that is, the algorithm will not try values beyond the range, even if is finds a boundary minimum.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>model</em>&nbsp;</td><td><a class="el" href="class_model.html">Model</a> to optimize </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>min</em>&nbsp;</td><td>lower end of the parameter range </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>upper end of the parameter range </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00280">280</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
References <a class="el" href="_adp_b_p_8h.html#d3f81ed4019eaa3d16f86b235697aa0f">d</a>, <a class="el" href="_model_8h-source.html#l00364">Model::getParameterDimension()</a>, <a class="el" href="opt_grid_8h-source.html#l00463">landscape</a>, <a class="el" href="opt_grid_8h-source.html#l00434">maximum</a>, <a class="el" href="opt_grid_8h-source.html#l00431">minimum</a>, <a class="el" href="_model_8h-source.html#l00377">Model::setParameter()</a>, and <a class="el" href="opt_grid_8h-source.html#l00437">step</a>.
</div>
</div><p>
<a class="anchor" name="27a4cc78ae169f0bd48286908de63e8b"></a><!-- doxytag: member="optGridNested::init" ref="27a4cc78ae169f0bd48286908de63e8b" args="(Model &amp;model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void optGridNested::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>model</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
There is no useful default initialization for this optimizer. 
<p>
Thus, this member throws an exception. 
<p>
Implements <a class="el" href="class_optimizer.html#d73a3c6a773c3ea280c59ecaee228830">Optimizer</a>.
<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00264">264</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
</div>
</div><p>
<a class="anchor" name="48718456436126f613d193ef6bc0fa53"></a><!-- doxytag: member="optGridNested::optimize" ref="48718456436126f613d193ef6bc0fa53" args="(Model &amp;model, ErrorFunction &amp;errorfunction, const Array&lt; double &gt; &amp;input, const Array&lt; double &gt; &amp;target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double optGridNested::optimize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_error_function.html">ErrorFunction</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>errorfunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Every call of the optimization member computes the error landscape on the current grid. 
<p>
It picks the best error value and zooms into the error landscape by a factor of 2 reusing already computed grid points. 
<p>
Implements <a class="el" href="class_optimizer.html#6a8170818afe45a5516c4a4fea053f0f">Optimizer</a>.
<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00309">309</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
References <a class="el" href="_adp_b_p_8h.html#d3f81ed4019eaa3d16f86b235697aa0f">d</a>, <a class="el" href="class_error_function.html#116fe3002d98786b63ccc5f1a480ac14">ErrorFunction::error()</a>, <a class="el" href="_model_8h-source.html#l00371">Model::getParameter()</a>, <a class="el" href="_model_8h-source.html#l00364">Model::getParameterDimension()</a>, <a class="el" href="_model_8h-source.html#l00339">Model::isFeasible()</a>, <a class="el" href="opt_grid_8h-source.html#l00463">landscape</a>, <a class="el" href="opt_grid_8h-source.html#l00434">maximum</a>, <a class="el" href="opt_grid_8h-source.html#l00431">minimum</a>, <a class="el" href="_model_8h-source.html#l00377">Model::setParameter()</a>, and <a class="el" href="opt_grid_8h-source.html#l00437">step</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="f2d8d3d40dfcae3fc244b88deba7de3e"></a><!-- doxytag: member="optGridNested::landscape" ref="f2d8d3d40dfcae3fc244b88deba7de3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="classopt_grid_nested.html#f2d8d3d40dfcae3fc244b88deba7de3e">optGridNested::landscape</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
error landscape 
<p>
<dl compact><dt><b></b></dt><dd>The landscape array has as many dimensions as there are parameters to optimize. In every array dimension there are 5 entries. During every grid search iteration, the error is computed for all grid points not seen during previous iterations.</dd></dl>
<dl compact><dt><b></b></dt><dd>Let N denote the number of parameters to optimize. To compute the error ladndscape at the current zoom level, the algorithm has to do <img class="formulaInl" alt="$ 5^N $" src="form_247.png"> error function evaluation in the first iteration, and up to <img class="formulaInl" alt="$ 5^N - 3^N $" src="form_248.png"> evaluations in subsequent iterations.</dd></dl>
<dl compact><dt><b></b></dt><dd>The grid is always centered around the best solution currently known. If this solution is located at the boundary, the landscape may exceed the parameter range defined <a class="el" href="classopt_grid_nested.html#0233c6d549bb67e9783fe4de8fc3c8ac">minimum</a> and <a class="el" href="classopt_grid_nested.html#8024ee4c096a195608e0f3554e3a9d5c">maximum</a>. These invalid landscape values are not used and are always set to 1e100, indicating non-optimality. </dd></dl>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00463">463</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
Referenced by <a class="el" href="opt_grid_8h-source.html#l00280">init()</a>, and <a class="el" href="opt_grid_8h-source.html#l00309">optimize()</a>.
</div>
</div><p>
<a class="anchor" name="8024ee4c096a195608e0f3554e3a9d5c"></a><!-- doxytag: member="optGridNested::maximum" ref="8024ee4c096a195608e0f3554e3a9d5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="classopt_grid_nested.html#8024ee4c096a195608e0f3554e3a9d5c">optGridNested::maximum</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
maximum parameter value to check 
<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00434">434</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
Referenced by <a class="el" href="opt_grid_8h-source.html#l00280">init()</a>, and <a class="el" href="opt_grid_8h-source.html#l00309">optimize()</a>.
</div>
</div><p>
<a class="anchor" name="0233c6d549bb67e9783fe4de8fc3c8ac"></a><!-- doxytag: member="optGridNested::minimum" ref="0233c6d549bb67e9783fe4de8fc3c8ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="classopt_grid_nested.html#0233c6d549bb67e9783fe4de8fc3c8ac">optGridNested::minimum</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
minimum parameter value to check 
<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00431">431</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
Referenced by <a class="el" href="opt_grid_8h-source.html#l00280">init()</a>, and <a class="el" href="opt_grid_8h-source.html#l00309">optimize()</a>.
</div>
</div><p>
<a class="anchor" name="f3c5cf48ec4b11d835623c9a74269e74"></a><!-- doxytag: member="optGridNested::step" ref="f3c5cf48ec4b11d835623c9a74269e74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="classopt_grid_nested.html#f3c5cf48ec4b11d835623c9a74269e74">optGridNested::step</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
current step size for every parameter 
<p>

<p>
Definition at line <a class="el" href="opt_grid_8h-source.html#l00437">437</a> of file <a class="el" href="opt_grid_8h-source.html">optGrid.h</a>.
<p>
Referenced by <a class="el" href="opt_grid_8h-source.html#l00280">init()</a>, and <a class="el" href="opt_grid_8h-source.html#l00309">optimize()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="opt_grid_8h-source.html">optGrid.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Dec 16 13:07:16 2009 for ReClaM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
